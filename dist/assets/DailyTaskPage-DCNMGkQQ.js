import{j as e}from"./createLucideIcon-BVK-TNov.js";import{r as n,d as he,u as pe}from"./router-CzIOuVrz.js";import{C as G,b as K,c as O,a as Q}from"./card-Dxmm2ME_.js";import{B as p,u as xe,d as I}from"./button-B9rjGe4R.js";import{X as H}from"./x-DTG6k3nd.js";import{h as oe,d as B,q as fe,c as le,w as re,a as je,u as ne,s as ge}from"./firebase-DxUWQnlV.js";import{T as ve}from"./textarea-D1VqTvES.js";import{S as ce,H as me,T as ie}from"./target-DLi08z85.js";import{C as J}from"./camera-CV06bDGE.js";import{U as W}from"./upload-CqvkSwM5.js";import{u as X}from"./uploadPhotoToStorage-IzdR3ISv.js";import{C as be}from"./calendar-CfB4sLkh.js";import{A as de,C as Ne}from"./circle-check-big-kv1Vo67G.js";import{C as ye}from"./circle-alert-BrtdaKy3.js";import{M as ke}from"./message-square-ryBRVS0s.js";import{S as we}from"./save-DU06psKo.js";import"./vendor-Csw2ODfV.js";const Se=({isOpen:v,onClose:x,title:d,children:u,maxHeight:b="85vh",showCloseButton:s=!0,footerContent:f=null,showFooter:D=!1})=>{const j=n.useRef(null);return n.useEffect(()=>{const h=o=>{j.current&&!j.current.contains(o.target)&&x()};if(v){document.addEventListener("mousedown",h),document.body.style.overflow="hidden";const o=document.querySelector("[data-bottom-navigation]")||document.querySelector('nav[class*="fixed"][class*="bottom"]')||document.querySelector(".fixed.bottom-0")||document.querySelector("nav:last-of-type");o&&(o.style.visibility="hidden",o.style.zIndex="0")}else{document.body.style.overflow="unset";const o=document.querySelector("[data-bottom-navigation]")||document.querySelector('nav[class*="fixed"][class*="bottom"]')||document.querySelector(".fixed.bottom-0")||document.querySelector("nav:last-of-type");o&&(o.style.visibility="visible",o.style.zIndex="50")}return()=>{document.removeEventListener("mousedown",h),document.body.style.overflow="unset";const o=document.querySelector("[data-bottom-navigation]")||document.querySelector('nav[class*="fixed"][class*="bottom"]')||document.querySelector(".fixed.bottom-0")||document.querySelector("nav:last-of-type");o&&(o.style.visibility="visible",o.style.zIndex="50")}},[v,x]),n.useEffect(()=>{const h=o=>{o.key==="Escape"&&v&&x()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[v,x]),v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[100] bg-black/50 backdrop-blur-sm transition-all duration-300 ease-out"}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end justify-center p-0",children:e.jsxs("div",{ref:j,className:"w-full max-w-2xl mx-auto bg-white rounded-t-3xl shadow-2xl transform transition-all duration-300 ease-out flex flex-col",style:{height:"85vh",maxHeight:"85vh"},children:[e.jsx("div",{className:"flex justify-center pt-3 pb-2 flex-shrink-0",children:e.jsx("div",{className:"w-12 h-1 bg-gray-300 rounded-full"})}),(d||s)&&e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 flex-shrink-0",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:d}),s&&e.jsx(p,{variant:"ghost",size:"sm",onClick:x,className:"hover:bg-gray-100 rounded-full p-2",children:e.jsx(H,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:e.jsx("div",{className:"px-6 py-4",children:u})}),D&&f&&e.jsx("div",{className:"flex-shrink-0 border-t border-gray-100 bg-white px-6 py-4 safe-area-pb",children:f})]})})]}):null},Ce=[{emoji:"😞",label:"Velmi špatně",value:1},{emoji:"🙁",label:"Špatně",value:2},{emoji:"😐",label:"Neutrálně",value:3},{emoji:"🙂",label:"Dobře",value:4},{emoji:"😄",label:"Velmi dobře",value:5}];function ze({onSubmit:v,onCancel:x,dayNumber:d,isPhotoDay:u=!1,isDualPhotoDay:b=!1,existingEntry:s=null}){var Y,E,ee,se,te,ae;const[f,D]=n.useState((s==null?void 0:s.mood)||null),[j,h]=n.useState((s==null?void 0:s.note)||""),[o,V]=n.useState((s==null?void 0:s.skinRating)||0),[g,L]=n.useState(null),[N,y]=n.useState(((E=(Y=s==null?void 0:s.photos)==null?void 0:Y[0])==null?void 0:E.url)||null),c=n.useRef(null),[l,M]=n.useState(null),[w,q]=n.useState(((se=(ee=s==null?void 0:s.photos)==null?void 0:ee.find(t=>t.type==="front"))==null?void 0:se.url)||null),C=n.useRef(null),[r,a]=n.useState(null),[S,z]=n.useState(((ae=(te=s==null?void 0:s.photos)==null?void 0:te.find(t=>t.type==="side"))==null?void 0:ae.url)||null),P=n.useRef(null),F=(t,m,U)=>{var T,$,A;const k=(T=t.target.files)==null?void 0:T[0];if(k){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(k.type)){alert("Neplatný formát souboru. Použijte JPG, PNG nebo WebP.");return}const ue=10*1024*1024;if(k.size>ue){alert("Soubor je příliš velký. Maximální velikost je 10MB.");return}m(k);const _=new FileReader;_.onloadend=()=>{U(_.result)},_.readAsDataURL(k)}else m(null),U(((A=($=s==null?void 0:s.photos)==null?void 0:$.find(Z=>Z.type))==null?void 0:A.url)||null)},i=(t,m,U,k=null)=>{var $,A;t(null);let T=null;s!=null&&s.photos&&(k?T=(($=s.photos.find(Z=>Z.type===k))==null?void 0:$.url)||null:T=((A=s.photos[0])==null?void 0:A.url)||null),m(T),U.current&&(U.current.value="")},R=t=>{if(t.preventDefault(),!f){alert("Prosím, vyberte svou náladu.");return}if(!j.trim()){alert("Prosím, napište krátký popis svého dne.");return}if(o===0){alert("Prosím, ohodnoťte stav své pleti.");return}if(u&&!b&&!g&&!N){alert("Prosím, přidejte fotografii pro tento den.");return}if(b&&(!(l||w)||!(r||S))){alert("Prosím, přidejte obě fotografie (zepředu a z boku).");return}const m={mood:f,note:j.trim(),skinRating:o,day:d};u&&!b&&g&&(m.photo=g),b&&(l&&(m.photoFront=l),r&&(m.photoSide=r)),console.log("📤 Odesílám log data:",m),v(m)};return e.jsx("div",{className:"space-y-6 pb-6",children:e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Jak se dnes cítíš?"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:Ce.map(t=>e.jsxs("button",{type:"button",onClick:()=>D(t.value),className:`p-3 rounded-lg border-2 transition-all ${f===t.value?"border-pink-500 bg-pink-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"text-2xl mb-1",children:t.emoji}),e.jsx("div",{className:"text-xs text-gray-600",children:t.label})]},t.value))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Jak vypadá tvoje pleť?"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[Array.from({length:5}).map((t,m)=>e.jsx("button",{type:"button",onClick:()=>V(m+1),className:"p-1 transition-colors",children:e.jsx(ce,{className:`w-8 h-8 ${m<o?"text-yellow-400 fill-current":"text-gray-300 hover:text-yellow-200"}`})},m)),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:o>0?`${o}/5`:"Nehodnoceno"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-lg font-medium text-gray-900",children:"Jak probíhal tvůj den?"}),e.jsx(ve,{value:j,onChange:t=>h(t.target.value),placeholder:"Sdílej svoje pocity, pokrok nebo cokoliv, co tě napadne...",className:"min-h-[100px] resize-none",maxLength:500}),e.jsxs("div",{className:"text-right text-sm text-gray-500",children:[j.length,"/500"]})]}),u&&!b&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Fotka pokroku"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[N?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:N,alt:"Preview",className:"max-w-full max-h-64 mx-auto rounded-lg shadow-md"}),e.jsx("button",{type:"button",onClick:()=>i(L,y,c),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:e.jsx(H,{className:"w-4 h-4"})}),g&&e.jsx("div",{className:"absolute top-2 left-2 bg-green-500 text-white text-xs px-2 py-1 rounded",children:"Nová fotka"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx(J,{className:"w-12 h-12 text-gray-400 mx-auto"}),e.jsx("div",{children:e.jsxs(p,{type:"button",variant:"outline",onClick:()=>{var t;return(t=c.current)==null?void 0:t.click()},children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Nahrát fotografii"]})}),e.jsx("p",{className:"text-sm text-gray-500",children:"Přidej fotografii svého obličeje pro sledování pokroku"})]}),e.jsx("input",{ref:c,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:t=>F(t,L,y),className:"hidden"})]})]}),b&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Fotodokumentace pokroku"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Přidej dvě fotografie - zepředu a z boku pro lepší sledování pokroku"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fotka zepředu *"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[w?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:w,alt:"Front Preview",className:"max-w-full max-h-48 mx-auto rounded-lg shadow-md"}),e.jsx("button",{type:"button",onClick:()=>i(M,q,C,"front"),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:e.jsx(H,{className:"w-4 h-4"})}),l&&e.jsx("div",{className:"absolute top-2 left-2 bg-green-500 text-white text-xs px-2 py-1 rounded",children:"Nová"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(J,{className:"w-8 h-8 text-gray-400 mx-auto"}),e.jsxs(p,{type:"button",variant:"outline",size:"sm",onClick:()=>{var t;return(t=C.current)==null?void 0:t.click()},children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Fotka zepředu"]})]}),e.jsx("input",{ref:C,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:t=>F(t,M,q),className:"hidden"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fotka z boku *"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[S?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:S,alt:"Side Preview",className:"max-w-full max-h-48 mx-auto rounded-lg shadow-md"}),e.jsx("button",{type:"button",onClick:()=>i(a,z,P,"side"),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:e.jsx(H,{className:"w-4 h-4"})}),r&&e.jsx("div",{className:"absolute top-2 left-2 bg-green-500 text-white text-xs px-2 py-1 rounded",children:"Nová"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(J,{className:"w-8 h-8 text-gray-400 mx-auto"}),e.jsxs(p,{type:"button",variant:"outline",size:"sm",onClick:()=>{var t;return(t=P.current)==null?void 0:t.click()},children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Fotka z boku"]})]}),e.jsx("input",{ref:P,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:t=>F(t,a,z),className:"hidden"})]})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx(p,{type:"button",variant:"outline",onClick:x,className:"flex-1",children:"Zrušit"}),e.jsxs(p,{type:"submit",className:"flex-1 bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Uložit záznam"]})]})]})})}function _e(){const{dayNumber:v}=he(),x=pe(),{user:d}=xe(),[u,b]=n.useState(null),[s,f]=n.useState(null),[D,j]=n.useState(!0),[h,o]=n.useState(!1),[V,g]=n.useState(!1),[L,N]=n.useState(""),[y,c]=n.useState(""),l=parseInt(v);n.useEffect(()=>{(async()=>{if(!(!d||!l))try{c("Načítání dat...");const a=await oe(B(I,"dailyContent",`day-${l}`));a.exists()&&b(a.data());const S=fe(le(I,"userLogs"),re("userId","==",d.uid),re("day","==",l)),z=await je(S);z.empty||f({id:z.docs[0].id,...z.docs[0].data()}),c("Data načtena úspěšně ✅")}catch(a){console.error("Chyba při načítání dat dne:",a),c(`Chyba: ${a.message}`)}finally{j(!1)}})()},[d,l]);const M=async r=>{o(!0),N(""),c("Zahajuji ukládání...");try{console.log("🔍 DEBUG - Uživatel:",{uid:d.uid,email:d.email,isAuthenticated:!!d}),console.log("💾 Ukládání logu pro den:",l),console.log("📝 Data logu:",r);let a={...r};if(r.photo&&r.photo instanceof File)try{c("📸 Testování upload single fotky..."),console.log("📸 Nahrávání single fotky - detaily:",{name:r.photo.name,size:r.photo.size,type:r.photo.type});const i=await X(r.photo,d.uid,l,"single");a.photos=[{url:i,type:"single"}],delete a.photo,c("✅ Single fotka nahrána úspěšně!"),console.log("✅ Single fotka nahrána:",i)}catch(i){console.error("❌ Chyba při nahrávání single fotky:",i),N(`Upload single fotky selhal: ${i.message}`),c(`❌ Upload error: ${i.message}`),console.log("⚠️ Pokračuji bez single fotky..."),delete a.photo}if(r.photoFront&&r.photoFront instanceof File||r.photoSide&&r.photoSide instanceof File)try{c("📸 Testování upload dual fotek..."),console.log("📸 Nahrávání dual fotek...");const i=[];if(r.photoFront instanceof File){console.log("📸 Upload front photo...");const R=await X(r.photoFront,d.uid,l,"front");i.push({url:R,type:"front"})}if(r.photoSide instanceof File){console.log("📸 Upload side photo...");const R=await X(r.photoSide,d.uid,l,"side");i.push({url:R,type:"side"})}a.photos=i,delete a.photoFront,delete a.photoSide,c("✅ Dual fotky nahrány úspěšně!"),console.log("✅ Dual fotky nahrány:",i)}catch(i){console.error("❌ Chyba při nahrávání dual fotek:",i),N(`Upload dual fotek selhal: ${i.message}`),c(`❌ Dual photos error: ${i.message}`),delete a.photoFront,delete a.photoSide}if(c("💾 Ukládání do Firestore..."),s)console.log("🔄 Aktualizuji existující log..."),await ne(B(I,"userLogs",s.id),{...a,updatedAt:new Date}),f({...s,...a});else{console.log("➕ Vytvářím nový log...");const i=B(le(I,"userLogs"));await ge(i,{userId:d.uid,day:l,...a,createdAt:new Date}),f({id:i.id,userId:d.uid,day:l,...a})}const S=B(I,"users",d.uid),P=(await oe(S)).data(),F=P.completedDays||[];F.includes(l)||(F.push(l),await ne(S,{completedDays:F,lastActivity:new Date,currentDay:Math.max(P.currentDay||1,l+1)})),c("✅ Vše uloženo úspěšně!"),console.log("✅ Log úspěšně uložen!"),g(!1)}catch(a){console.error("❌ Chyba při ukládání logu:",a),N(`Chyba při ukládání: ${a.message}`),c(`❌ Save error: ${a.message}`)}finally{o(!1)}};if(D)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-pink-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsxs("p",{className:"text-gray-600",children:["Načítání dne ",l,"..."]}),y&&e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:y})]})});if(!u)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(be,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsxs("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:["Den ",l," není dostupný"]}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Obsah pro tento den ještě není připraven"}),e.jsxs(p,{onClick:()=>x("/my-day"),children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),"Zpět na můj den"]})]})});const w=!!s,q=u.isPhotoDay||!1,C=u.isDualPhotoDay||!1;return e.jsxs("div",{className:"min-h-screen",children:[e.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>x("/my-day"),className:"mr-2",children:e.jsx(de,{className:"w-4 h-4"})}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(ie,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-bold text-gray-900",children:["Den ",l]}),e.jsx("p",{className:"text-sm text-gray-600",children:w?"Dokončeno":"K dokončení"})]})]}),w&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[e.jsx(Ne,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Splněno"})]})]})})}),e.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[y&&e.jsx("div",{className:"bg-gray-50 border rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-gray-700",children:["🔍 Debug: ",y]})}),L&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[e.jsx(ye,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Upload Error"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:L}),e.jsx(p,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>N(""),children:"Zavřít"})]})]}),e.jsxs(G,{className:"border-0 shadow-lg bg-gradient-to-br from-pink-50 to-purple-50",children:[e.jsxs(K,{className:"flex flex-row items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center",children:e.jsx(me,{className:"w-5 h-5 text-pink-600"})}),e.jsxs("div",{children:[e.jsx(O,{className:"text-pink-900",children:"Denní motivace"}),e.jsx("p",{className:"text-sm text-pink-700",children:"Tvá dnešní inspirace"})]})]}),e.jsx(Q,{children:e.jsxs("blockquote",{className:"text-lg font-medium text-pink-800 italic",children:['"',u.motivation,'"']})})]}),e.jsxs(G,{className:"border-0 shadow-lg",children:[e.jsxs(K,{className:"flex flex-row items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(ie,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(O,{children:"Dnešní úkol"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Co tě dnes čeká"})]})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{className:"bg-gray-50 p-6 rounded-lg",children:e.jsx("pre",{className:"whitespace-pre-wrap font-sans text-gray-800 leading-relaxed",children:u.task})})}),q&&e.jsxs("div",{className:"mt-6 p-4 bg-pink-50 border border-pink-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(J,{className:"w-5 h-5 text-pink-600"}),e.jsxs("h3",{className:"font-semibold text-pink-900",children:["🧪 TEST: ",C?"Pořiď 2 fotky":"Pořiď fotku pokroku"]})]}),e.jsx("p",{className:"text-sm text-pink-700",children:C?"Testujeme upload 2 fotek - zepředu a z boku (nová cesta photos_v2/)":"Testujeme upload 1 fotky (nová cesta photos_v2/)"})]})]})]}),e.jsxs(G,{className:"border-0 shadow-lg",children:[e.jsxs(K,{className:"flex flex-row items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(ke,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx(O,{children:"Tvůj záznam"}),e.jsx("p",{className:"text-sm text-gray-600",children:w?"Upravit záznam":"Zaznamenat pokrok + TEST FOTO"})]})]}),e.jsx(Q,{children:w?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Dokončeno"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:5}).map((r,a)=>e.jsx(ce,{className:`w-4 h-4 ${a<s.skinRating?"text-yellow-400 fill-current":"text-gray-300"}`},a))})]}),s.photos&&s.photos.length>0&&e.jsxs("div",{className:"text-sm text-gray-600",children:["📸 ",s.photos.length," ",s.photos.length===1?"fotka":"fotky"," nahrané"]}),e.jsx(p,{onClick:()=>g(!0),className:"w-full",disabled:h,children:"Upravit záznam"})]}):e.jsx(p,{onClick:()=>g(!0),className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700",disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Ukládám... ",y&&`(${y})`]}):e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"🧪 TEST Záznam + Foto"]})})})]})]}),e.jsx(Se,{isOpen:V,onClose:()=>g(!1),title:`🧪 TEST Den ${l} - Záznam pokroku + Foto Upload`,children:e.jsx(ze,{dayNumber:l,onSubmit:M,onCancel:()=>g(!1),isPhotoDay:q,isDualPhotoDay:C,existingEntry:s})})]})}export{_e as default};
