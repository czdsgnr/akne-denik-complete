import{c as he,j as e}from"./createLucideIcon-BVK-TNov.js";import{R as w,r as _}from"./router-CzIOuVrz.js";import{a as xe,u as ke,B as ae,d as se}from"./button-B9rjGe4R.js";import{h as we,d as Ae,q as De,c as Pe,w as Se,a as Oe}from"./firebase-DxUWQnlV.js";import{L as Ee}from"./loader-circle-Pt6RhADX.js";import{b as F,L as Z,m as H,i as W,c as Y,d as Me,e as V,h as re,j as Ce,k as ne,l as Re,n as Le,u as _e,o as Q,G as ze,p as ie,q as oe,D as $e,g as Te,X as fe,Y as ye,f as Ie,A as le,T as ce,E as J,I as Be,R as Fe,C as Ve,a as We}from"./generateCategoricalChart-Ca6MhHvK.js";import{T as Ke,H as de,S as Ze}from"./target-DLi08z85.js";import{C as U}from"./camera-CV06bDGE.js";import{C as Ue}from"./chart-column-DzWKztee.js";import{C as qe}from"./circle-alert-BrtdaKy3.js";import{C as me}from"./circle-check-r0udbRd9.js";import{S as He}from"./sparkles-7mg9HYtw.js";import"./vendor-Csw2ODfV.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Xe=he("flame",Ge);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Je=he("grid-3x3",Ye);var Qe=["layout","type","stroke","connectNulls","isRange","ref"],et=["key"],ge;function K(t){"@babel/helpers - typeof";return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},K(t)}function ve(t,a){if(t==null)return{};var n=tt(t,a),s,i;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)s=c[i],!(a.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function tt(t,a){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(a.indexOf(s)>=0)continue;n[s]=t[s]}return n}function T(){return T=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},T.apply(this,arguments)}function ue(t,a){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function $(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?ue(Object(n),!0).forEach(function(s){R(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function at(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function pe(t,a){for(var n=0;n<a.length;n++){var s=a[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,je(s.key),s)}}function st(t,a,n){return a&&pe(t.prototype,a),n&&pe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rt(t,a,n){return a=G(a),nt(t,be()?Reflect.construct(a,n||[],G(t).constructor):a.apply(t,n))}function nt(t,a){if(a&&(K(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return it(t)}function it(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function be(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(be=function(){return!!t})()}function G(t){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G(t)}function ot(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),a&&ee(t,a)}function ee(t,a){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},ee(t,a)}function R(t,a,n){return a=je(a),a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}function je(t){var a=lt(t,"string");return K(a)=="symbol"?a:a+""}function lt(t,a){if(K(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,a);if(K(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var z=function(t){function a(){var n;at(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return n=rt(this,a,[].concat(i)),R(n,"state",{isAnimationFinished:!0}),R(n,"id",_e("recharts-area-")),R(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Q(l)&&l()}),R(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Q(l)&&l()}),n}return ot(a,t),st(a,[{key:"renderDots",value:function(s,i,c){var l=this.props.isAnimationActive,d=this.state.isAnimationFinished;if(l&&!d)return null;var u=this.props,m=u.dot,g=u.points,p=u.dataKey,b=F(this.props,!1),o=F(m,!0),D=g.map(function(j,M){var k=$($($({key:"dot-".concat(M),r:3},b),o),{},{index:M,cx:j.x,cy:j.y,dataKey:p,value:j.value,payload:j.payload,points:g});return a.renderDotItem(m,k)}),O={clipPath:s?"url(#clipPath-".concat(i?"":"dots-").concat(c,")"):null};return w.createElement(Z,T({className:"recharts-area-dots"},O),D)}},{key:"renderHorizontalRect",value:function(s){var i=this.props,c=i.baseLine,l=i.points,d=i.strokeWidth,u=l[0].x,m=l[l.length-1].x,g=s*Math.abs(u-m),p=H(l.map(function(b){return b.y||0}));return W(c)&&typeof c=="number"?p=Math.max(c,p):c&&Array.isArray(c)&&c.length&&(p=Math.max(H(c.map(function(b){return b.y||0})),p)),W(p)?w.createElement("rect",{x:u<m?u:u-g,y:0,width:g,height:Math.floor(p+(d?parseInt("".concat(d),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var i=this.props,c=i.baseLine,l=i.points,d=i.strokeWidth,u=l[0].y,m=l[l.length-1].y,g=s*Math.abs(u-m),p=H(l.map(function(b){return b.x||0}));return W(c)&&typeof c=="number"?p=Math.max(c,p):c&&Array.isArray(c)&&c.length&&(p=Math.max(H(c.map(function(b){return b.x||0})),p)),W(p)?w.createElement("rect",{x:0,y:u<m?u:u-g,width:p+(d?parseInt("".concat(d),10):1),height:Math.floor(g)}):null}},{key:"renderClipRect",value:function(s){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,i,c,l){var d=this.props,u=d.layout,m=d.type,g=d.stroke,p=d.connectNulls,b=d.isRange;d.ref;var o=ve(d,Qe);return w.createElement(Z,{clipPath:c?"url(#clipPath-".concat(l,")"):null},w.createElement(Y,T({},F(o,!0),{points:s,connectNulls:p,type:m,baseLine:i,layout:u,stroke:"none",className:"recharts-area-area"})),g!=="none"&&w.createElement(Y,T({},F(this.props,!1),{className:"recharts-area-curve",layout:u,type:m,connectNulls:p,fill:"none",points:s})),g!=="none"&&b&&w.createElement(Y,T({},F(this.props,!1),{className:"recharts-area-curve",layout:u,type:m,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(s,i){var c=this,l=this.props,d=l.points,u=l.baseLine,m=l.isAnimationActive,g=l.animationBegin,p=l.animationDuration,b=l.animationEasing,o=l.animationId,D=this.state,O=D.prevPoints,j=D.prevBaseLine;return w.createElement(Me,{begin:g,duration:p,isActive:m,easing:b,from:{t:0},to:{t:1},key:"area-".concat(o),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(M){var k=M.t;if(O){var r=O.length/d.length,f=d.map(function(N,v){var S=Math.floor(v*r);if(O[S]){var h=O[S],E=V(h.x,N.x),L=V(h.y,N.y);return $($({},N),{},{x:E(k),y:L(k)})}return N}),y;if(W(u)&&typeof u=="number"){var x=V(j,u);y=x(k)}else if(re(u)||Ce(u)){var P=V(j,0);y=P(k)}else y=u.map(function(N,v){var S=Math.floor(v*r);if(j[S]){var h=j[S],E=V(h.x,N.x),L=V(h.y,N.y);return $($({},N),{},{x:E(k),y:L(k)})}return N});return c.renderAreaStatically(f,y,s,i)}return w.createElement(Z,null,w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(i)},c.renderClipRect(k))),w.createElement(Z,{clipPath:"url(#animationClipPath-".concat(i,")")},c.renderAreaStatically(d,u,s,i)))})}},{key:"renderArea",value:function(s,i){var c=this.props,l=c.points,d=c.baseLine,u=c.isAnimationActive,m=this.state,g=m.prevPoints,p=m.prevBaseLine,b=m.totalLength;return u&&l&&l.length&&(!g&&b>0||!ne(g,l)||!ne(p,d))?this.renderAreaWithAnimation(s,i):this.renderAreaStatically(l,d,s,i)}},{key:"render",value:function(){var s,i=this.props,c=i.hide,l=i.dot,d=i.points,u=i.className,m=i.top,g=i.left,p=i.xAxis,b=i.yAxis,o=i.width,D=i.height,O=i.isAnimationActive,j=i.id;if(c||!d||!d.length)return null;var M=this.state.isAnimationFinished,k=d.length===1,r=xe("recharts-area",u),f=p&&p.allowDataOverflow,y=b&&b.allowDataOverflow,x=f||y,P=re(j)?this.id:j,N=(s=F(l,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},v=N.r,S=v===void 0?3:v,h=N.strokeWidth,E=h===void 0?2:h,L=Re(l)?l:{},I=L.clipDot,q=I===void 0?!0:I,B=S*2+E;return w.createElement(Z,{className:r},f||y?w.createElement("defs",null,w.createElement("clipPath",{id:"clipPath-".concat(P)},w.createElement("rect",{x:f?g:g-o/2,y:y?m:m-D/2,width:f?o:o*2,height:y?D:D*2})),!q&&w.createElement("clipPath",{id:"clipPath-dots-".concat(P)},w.createElement("rect",{x:g-B/2,y:m-B/2,width:o+B,height:D+B}))):null,k?null:this.renderArea(x,P),(l||k)&&this.renderDots(x,q,P),(!O||M)&&Le.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:s.points!==i.curPoints||s.baseLine!==i.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(_.PureComponent);ge=z;R(z,"displayName","Area");R(z,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ze.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});R(z,"getBaseValue",function(t,a,n,s){var i=t.layout,c=t.baseValue,l=a.props.baseValue,d=l??c;if(W(d)&&typeof d=="number")return d;var u=i==="horizontal"?s:n,m=u.scale.domain();if(u.type==="number"){var g=Math.max(m[0],m[1]),p=Math.min(m[0],m[1]);return d==="dataMin"?p:d==="dataMax"||g<0?g:Math.max(Math.min(m[0],m[1]),0)}return d==="dataMin"?m[0]:d==="dataMax"?m[1]:m[0]});R(z,"getComposedData",function(t){var a=t.props,n=t.item,s=t.xAxis,i=t.yAxis,c=t.xAxisTicks,l=t.yAxisTicks,d=t.bandSize,u=t.dataKey,m=t.stackedData,g=t.dataStartIndex,p=t.displayedData,b=t.offset,o=a.layout,D=m&&m.length,O=ge.getBaseValue(a,n,s,i),j=o==="horizontal",M=!1,k=p.map(function(f,y){var x;D?x=m[g+y]:(x=ie(f,u),Array.isArray(x)?M=!0:x=[O,x]);var P=x[1]==null||D&&ie(f,u)==null;return j?{x:oe({axis:s,ticks:c,bandSize:d,entry:f,index:y}),y:P?null:i.scale(x[1]),value:x,payload:f}:{x:P?null:s.scale(x[1]),y:oe({axis:i,ticks:l,bandSize:d,entry:f,index:y}),value:x,payload:f}}),r;return D||M?r=k.map(function(f){var y=Array.isArray(f.value)?f.value[0]:null;return j?{x:f.x,y:y!=null&&f.y!=null?i.scale(y):null}:{x:y!=null?s.scale(y):null,y:f.y}}):r=j?i.scale(O):s.scale(O),$({points:k,baseLine:r,layout:o,isRange:M},b)});R(z,"renderDotItem",function(t,a){var n;if(w.isValidElement(t))n=w.cloneElement(t,a);else if(Q(t))n=t(a);else{var s=xe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=a.key,c=ve(a,et);n=w.createElement($e,T({},c,{key:i,className:s}))}return n});var ct=Te({chartName:"AreaChart",GraphicalChild:z,axisComponents:[{axisType:"xAxis",AxisComp:fe},{axisType:"yAxis",AxisComp:ye}],formatAxisMap:Ie});function kt(){const{user:t}=ke(),[a,n]=_.useState([]),[s,i]=_.useState(null),[c,l]=_.useState(!0),[d,u]=_.useState(null),[m,g]=_.useState(!1),[p,b]=_.useState(null),[o,D]=_.useState({completedDays:0,currentDay:1,photosTaken:0,averageMood:0,averageSkinRating:0,streak:0});if(_.useEffect(()=>{(async()=>{var f,y;if(t)try{console.log("🔍 Načítání dat pro uživatele:",t.uid),l(!0),u(null);const x=await we(Ae(se,"users",t.uid));if(x.exists()){const h=x.data();i(h),console.log("👤 Uživatelská data:",h)}const P=De(Pe(se,"userLogs"),Se("userId","==",t.uid)),N=await Oe(P),v=[];N.forEach(h=>{const E={id:h.id,...h.data()};v.push(E)}),v.sort((h,E)=>h.day-E.day),console.log("📊 Načteno logů:",v.length),console.log("📷 Logy s fotkami:",v.filter(h=>h.photos&&h.photos.length>0).length);const S=v.filter(h=>h.photos&&h.photos.length>0);if(S.length>0&&console.log("🖼️ Ukázka logů s fotkami:",S.slice(0,3).map(h=>({day:h.day,photosCount:h.photos.length,photoUrls:h.photos.map(E=>E.url)}))),n(v),v.length>0){const h=v.length,E=v.filter(A=>A.photos&&A.photos.length>0).length,L=v.filter(A=>A.mood>0).map(A=>A.mood),I=v.filter(A=>A.skinRating>0).map(A=>A.skinRating),q=L.length>0?L.reduce((A,C)=>A+C,0)/L.length:0,B=I.length>0?I.reduce((A,C)=>A+C,0)/I.length:0;let X=0;if(v.length>0){const A=[...v].sort((C,Ne)=>Ne.day-C.day);X=1;for(let C=1;C<A.length&&A[C].day===A[C-1].day-1;C++)X++}const te={completedDays:h,currentDay:x.exists()&&((f=x.data())==null?void 0:f.currentDay)||h+1,photosTaken:E,averageMood:Math.round(q*10)/10,averageSkinRating:Math.round(B*10)/10,streak:X};console.log("📈 Vypočítané statistiky:",te),D(te)}else console.log("📭 Uživatel nemá žádné logy"),D({completedDays:0,currentDay:x.exists()&&((y=x.data())==null?void 0:y.currentDay)||1,photosTaken:0,averageMood:0,averageSkinRating:0,streak:0})}catch(x){console.error("❌ Chyba při načítání dat:",x),u("Chyba při načítání dat: "+x.message),D({completedDays:0,currentDay:1,photosTaken:0,averageMood:0,averageSkinRating:0,streak:0})}finally{l(!1)}})()},[t]),c)return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ee,{className:"w-8 h-8 text-pink-500 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Načítání tvých dat..."})]})});const O=a.length>0?a.slice(-7).map(r=>({day:r.day,mood:r.mood||0,skinRating:r.skinRating||0,date:`Den ${r.day}`})):[],j=Math.round(o.completedDays/365*100),M=[{id:1,title:"První týden",description:"7 dní v řadě!",icon:le,earned:o.streak>=7,progress:Math.min(o.streak,7),total:7},{id:2,title:"Vytrvalost",description:"30 dní dokončeno",icon:Ke,earned:o.completedDays>=30,progress:Math.min(o.completedDays,30),total:30},{id:3,title:"Fotograf",description:"5 týdenních fotek",icon:U,earned:o.photosTaken>=5,progress:Math.min(o.photosTaken,5),total:5},{id:4,title:"Optimista",description:"Průměrná nálada 4+",icon:de,earned:o.averageMood>=4,progress:Math.min(o.averageMood,4),total:4}],k=a.filter(r=>r.photos&&r.photos.length>0);return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("header",{className:"bg-white border-b border-gray-100 sticky top-0 z-40 shadow-sm",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center h-16",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(Ue,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Přehled pokroku"}),e.jsx("p",{className:"text-sm text-gray-500",children:o.completedDays===0?"Připrav se na svou cestu!":`${o.completedDays} dní dokončeno`})]})]})})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[d&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(qe,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-red-900 mb-1",children:"Chyba při načítání dat"}),e.jsx("p",{className:"text-sm text-red-700",children:d}),e.jsx(ae,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),className:"mt-3 text-red-600 border-red-300 hover:bg-red-50",children:"Zkusit znovu"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-4 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(me,{className:"w-6 h-6 text-pink-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:o.completedDays}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Splněných dnů"}),e.jsx("div",{className:"w-full bg-pink-100 rounded-full h-2",children:e.jsx("div",{className:"bg-pink-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(j,100)}%`}})}),e.jsxs("p",{className:"text-xs text-pink-600 mt-1",children:[j,"% z cesty"]})]}),e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-4 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(Xe,{className:"w-6 h-6 text-orange-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:o.streak}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Dní v řadě"}),o.streak>=7?e.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded-full",children:"🔥 Super streak!"}):o.streak>0?e.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded-full",children:"⭐ Pokračuj tak!"}):e.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded-full",children:"💪 Začni dnes"})]}),e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-4 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(de,{className:"w-6 h-6 text-purple-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:o.averageMood>0?o.averageMood.toFixed(1):"—"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Průměrná nálada"}),o.averageMood>=4?e.jsx("span",{className:"text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded-full",children:"😊 Skvělé!"}):o.averageMood>0?e.jsx("span",{className:"text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded-full",children:"😌 Dobré"}):e.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded-full",children:"🎯 Začni hodnotit"})]}),e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-4 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(Ze,{className:"w-6 h-6 text-green-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:o.averageSkinRating>0?o.averageSkinRating.toFixed(1):"—"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Hodnocení pleti"}),o.averageSkinRating>=4?e.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"⭐ Skvělé"}):o.averageSkinRating>0?e.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"📈 Zlepšuje se"}):e.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded-full",children:"📊 Začni hodnotit"})]})]}),e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center",children:e.jsx(ce,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Celkový pokrok"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tvoje cesta za krásnou pletí"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[o.completedDays," z 365 dní"]}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[j,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 h-3 rounded-full transition-all duration-500 flex items-center justify-start pl-2",style:{width:`${Math.max(j,2)}%`},children:j>10&&e.jsxs("span",{className:"text-xs text-white font-medium",children:[j,"%"]})})}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-sm text-gray-600",children:o.completedDays===0?"Připrav se na svou cestu za krásnou pletí! ✨":o.completedDays<7?"Skvělý začátek! Pokračuj každý den a uvidíš výsledky! 🌟":o.completedDays<30?"Úžasný pokrok! Tvoje vytrvalost se vyplácí! 🎉":`Neuvěřitelných ${o.completedDays} dní! Jsi inspirací! 🏆`})})]})]}),e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:e.jsx(U,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Fotky pokroku"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[o.photosTaken," fotek nahráno"]})]})]}),k.length>0&&e.jsx(ae,{variant:"outline",size:"sm",onClick:()=>g(!m),className:"flex items-center space-x-2",children:m?e.jsxs(e.Fragment,{children:[e.jsx(Je,{className:"w-4 h-4"}),e.jsx("span",{children:"Skrýt"})]}):e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"w-4 h-4"}),e.jsx("span",{children:"Zobrazit"})]})})]}),k.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(U,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"mb-2 font-medium",children:"Zatím nemáš žádné fotky pokroku"}),e.jsx("p",{className:"text-sm",children:'Fotky se nahrávají během speciálních "foto dnů"'})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:k.slice(-3).map((r,f)=>{var y,x,P,N,v;return e.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{var S,h;return((h=(S=r.photos)==null?void 0:S[0])==null?void 0:h.url)&&b({...r.photos[0],day:r.day})},children:[e.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:[r.photos&&((y=r.photos[0])!=null&&y.url)?e.jsx("img",{src:r.photos[0].url,alt:`Den ${r.day} - pokrok`,className:"w-full h-full object-cover transition-transform group-hover:scale-105",onError:S=>{S.target.style.display="none",S.target.nextSibling.style.display="flex"}}):null,e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",style:{display:(P=(x=r.photos)==null?void 0:x[0])!=null&&P.url?"none":"flex"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(U,{className:"w-6 h-6 text-purple-500 mx-auto mb-1"}),e.jsxs("span",{className:"text-xs text-purple-600 font-medium",children:["Den ",r.day]})]})})]}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-xs text-center",children:[e.jsx(J,{className:"w-4 h-4 mx-auto mb-1"}),e.jsxs("p",{className:"font-semibold",children:["Den ",r.day]}),e.jsxs("p",{children:[((N=r.photos)==null?void 0:N.length)||0," ",((v=r.photos)==null?void 0:v.length)===1?"fotka":"fotky"]}),r.mood&&e.jsx("p",{className:"mt-1",children:"⭐".repeat(Math.min(r.mood,5))})]})})]},r.id)})}),m&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-2"}),"Všechny fotky (",k.length," dnů)"]}),e.jsx("div",{className:"grid grid-cols-4 gap-3",children:k.map(r=>{var f,y,x,P;return e.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{var N,v;return((v=(N=r.photos)==null?void 0:N[0])==null?void 0:v.url)&&b({...r.photos[0],day:r.day})},children:[e.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:[r.photos&&((f=r.photos[0])!=null&&f.url)?e.jsx("img",{src:r.photos[0].url,alt:`Den ${r.day} - pokrok`,className:"w-full h-full object-cover transition-transform group-hover:scale-110",onError:N=>{N.target.style.display="none",N.target.nextSibling.style.display="flex"}}):null,e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center",style:{display:(x=(y=r.photos)==null?void 0:y[0])!=null&&x.url?"none":"flex"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(U,{className:"w-5 h-5 text-blue-500 mx-auto mb-1"}),e.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:["D",r.day]})]})})]}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-xs text-center",children:[e.jsx(J,{className:"w-5 h-5 mx-auto mb-1 opacity-75"}),e.jsxs("p",{className:"font-medium",children:["Den ",r.day]}),e.jsxs("p",{children:[((P=r.photos)==null?void 0:P.length)||0," fotky"]}),r.mood&&e.jsx("p",{className:"mt-1",children:"⭐".repeat(Math.min(r.mood,5))}),r.skinRating&&e.jsxs("p",{className:"text-xs text-green-300",children:["Pleť: ",r.skinRating,"/5"]})]})})]},r.id)})})]})]})]}),O.length>0&&e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-teal-500 rounded-xl flex items-center justify-center",children:e.jsx(ce,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pokrok za poslední dny"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Sleduj, jak se zlepšuje tvoje nálada a pleť"})]})]}),e.jsx("div",{className:"h-64",children:e.jsx(Fe,{width:"100%",height:"100%",children:e.jsxs(ct,{data:O,children:[e.jsx(Ve,{strokeDasharray:"3 3"}),e.jsx(fe,{dataKey:"date"}),e.jsx(ye,{domain:[0,5]}),e.jsx(We,{formatter:(r,f)=>[r,f==="mood"?"Nálada":"Hodnocení pleti"],labelFormatter:r=>r}),e.jsx(z,{type:"monotone",dataKey:"mood",stackId:"1",stroke:"#ec4899",fill:"#ec4899",fillOpacity:.4,name:"mood"}),e.jsx(z,{type:"monotone",dataKey:"skinRating",stackId:"1",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.4,name:"skinRating"})]})})})]}),e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-xl flex items-center justify-center",children:e.jsx(le,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Úspěchy a ocenění"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tvoje dosažené milníky"})]})]}),e.jsx("div",{className:"space-y-4",children:M.map(r=>{const f=r.icon,y=r.total>0?Math.min(r.progress/r.total*100,100):0;return e.jsxs("div",{className:`
                    p-4 rounded-lg border transition-all duration-200
                    ${r.earned?"border-yellow-300 bg-yellow-50 shadow-sm":"border-gray-200 bg-gray-50"}
                  `,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`
                        w-10 h-10 rounded-lg flex items-center justify-center
                        ${r.earned?"bg-yellow-100":"bg-gray-100"}
                      `,children:e.jsx(f,{className:`
                          w-5 h-5 
                          ${r.earned?"text-yellow-600":"text-gray-400"}
                        `})}),e.jsxs("div",{children:[e.jsx("h3",{className:`
                          font-semibold
                          ${r.earned?"text-gray-900":"text-gray-500"}
                        `,children:r.title}),e.jsx("p",{className:`
                          text-sm
                          ${r.earned?"text-gray-700":"text-gray-400"}
                        `,children:r.description})]})]}),r.earned?e.jsx(me,{className:"w-5 h-5 text-green-500"}):e.jsxs("span",{className:"text-sm text-gray-500",children:[r.progress,"/",r.total]})]}),!r.earned&&r.progress>0&&e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gray-400 h-2 rounded-full transition-all duration-500",style:{width:`${y}%`}})})]},r.id)})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 border border-pink-100 rounded-xl shadow-sm p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(He,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:o.completedDays===0?"Začni svou cestu! ✨":o.completedDays<7?"Skvělý začátek! 🌟":o.completedDays<30?"Úžasný pokrok! 🎉":o.completedDays<100?"Jsi neuvěřitelná! 🏆":"Absolutní šampionka! 👑"}),e.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto",children:o.completedDays===0?"Tvoje cesta za krásnou pletí právě začíná. Každý den je novou příležitostí!":o.completedDays<7?`Za ${o.completedDays} dní jsi udělala skvělý začátek. Pokračuj dál - každý den se počítá!`:o.completedDays<30?`${o.completedDays} dní za sebou je úžasné! Tvoje vytrvalost se určitě vyplatí.`:o.completedDays<100?`${o.completedDays} dní je neuvěřitelný úspěch! Jsi inspirací pro všechny kolem sebe.`:`Neuvěřitelných ${o.completedDays} dní! Jsi absolutní šampionka a vzor pro ostatní! 🌟`})]})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>b(null),children:e.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[e.jsx("img",{src:p.url,alt:`Den ${p.day} - pokrok`,className:"max-w-full max-h-full object-contain rounded-lg",onClick:r=>r.stopPropagation()}),e.jsxs("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white px-3 py-2 rounded-lg",children:[e.jsxs("p",{className:"font-semibold",children:["Den ",p.day]}),p.type&&e.jsx("p",{className:"text-sm opacity-75",children:p.type==="front"?"Zepředu":p.type==="side"?"Z boku":"Pokrok"})]}),e.jsx("button",{onClick:()=>b(null),className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white w-8 h-8 rounded-full flex items-center justify-center hover:bg-opacity-75",children:"×"})]})})]})}export{kt as default};
