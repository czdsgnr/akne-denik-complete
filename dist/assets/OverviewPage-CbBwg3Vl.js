import{c as ue,R as N,a as L,j as e}from"./createLucideIcon-CQGyNZ_Q.js";import{m as pe,u as je,B as ee,k as Ne,e as ke,d as te,q as we,c as Ae,w as De,a as Pe}from"./button-Dt3GSqWm.js";import{L as Se}from"./loader-circle-nqpIXKx1.js";import{b as F,L as Z,m as H,i as W,c as X,d as Oe,e as V,h as ae,j as Ee,k as se,l as Me,n as Ce,u as Re,o as J,G as Le,p as re,q as ne,D as _e,g as ze,X as he,Y as xe,f as $e,A as ie,T as oe,E as Y,I as Te,R as Ie,C as Be,a as Fe}from"./generateCategoricalChart-Zz94I7Hb.js";import{T as Ve,H as le,S as We}from"./target-PIB22ZZm.js";import{C as U}from"./camera-ByWCIk_p.js";import{C as Ke}from"./chart-column-BP9_LOoU.js";import{C as Ze}from"./circle-alert-tL62Yvf5.js";import{C as ce}from"./circle-check-D78cfl_i.js";import{S as Ue}from"./sparkles-C6UHyn36.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],He=ue("flame",qe);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Xe=ue("grid-3x3",Ge);var Ye=["layout","type","stroke","connectNulls","isRange","ref"],Je=["key"],fe;function K(t){"@babel/helpers - typeof";return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},K(t)}function ye(t,a){if(t==null)return{};var n=Qe(t,a),s,i;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)s=c[i],!(a.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Qe(t,a){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(a.indexOf(s)>=0)continue;n[s]=t[s]}return n}function I(){return I=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},I.apply(this,arguments)}function de(t,a){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function z(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?de(Object(n),!0).forEach(function(s){C(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function et(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function me(t,a){for(var n=0;n<a.length;n++){var s=a[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,ve(s.key),s)}}function tt(t,a,n){return a&&me(t.prototype,a),n&&me(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function at(t,a,n){return a=G(a),st(t,ge()?Reflect.construct(a,n||[],G(t).constructor):a.apply(t,n))}function st(t,a){if(a&&(K(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rt(t)}function rt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ge(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ge=function(){return!!t})()}function G(t){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G(t)}function nt(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),a&&Q(t,a)}function Q(t,a){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},Q(t,a)}function C(t,a,n){return a=ve(a),a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}function ve(t){var a=it(t,"string");return K(a)=="symbol"?a:a+""}function it(t,a){if(K(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,a);if(K(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _=function(t){function a(){var n;et(this,a);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return n=at(this,a,[].concat(i)),C(n,"state",{isAnimationFinished:!0}),C(n,"id",Re("recharts-area-")),C(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),J(l)&&l()}),C(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),J(l)&&l()}),n}return nt(a,t),tt(a,[{key:"renderDots",value:function(s,i,c){var l=this.props.isAnimationActive,d=this.state.isAnimationFinished;if(l&&!d)return null;var u=this.props,m=u.dot,x=u.points,p=u.dataKey,y=F(this.props,!1),o=F(m,!0),w=x.map(function(v,O){var j=z(z(z({key:"dot-".concat(O),r:3},y),o),{},{index:O,cx:v.x,cy:v.y,dataKey:p,value:v.value,payload:v.payload,points:x});return a.renderDotItem(m,j)}),D={clipPath:s?"url(#clipPath-".concat(i?"":"dots-").concat(c,")"):null};return N.createElement(Z,I({className:"recharts-area-dots"},D),w)}},{key:"renderHorizontalRect",value:function(s){var i=this.props,c=i.baseLine,l=i.points,d=i.strokeWidth,u=l[0].x,m=l[l.length-1].x,x=s*Math.abs(u-m),p=H(l.map(function(y){return y.y||0}));return W(c)&&typeof c=="number"?p=Math.max(c,p):c&&Array.isArray(c)&&c.length&&(p=Math.max(H(c.map(function(y){return y.y||0})),p)),W(p)?N.createElement("rect",{x:u<m?u:u-x,y:0,width:x,height:Math.floor(p+(d?parseInt("".concat(d),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var i=this.props,c=i.baseLine,l=i.points,d=i.strokeWidth,u=l[0].y,m=l[l.length-1].y,x=s*Math.abs(u-m),p=H(l.map(function(y){return y.x||0}));return W(c)&&typeof c=="number"?p=Math.max(c,p):c&&Array.isArray(c)&&c.length&&(p=Math.max(H(c.map(function(y){return y.x||0})),p)),W(p)?N.createElement("rect",{x:0,y:u<m?u:u-x,width:p+(d?parseInt("".concat(d),10):1),height:Math.floor(x)}):null}},{key:"renderClipRect",value:function(s){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,i,c,l){var d=this.props,u=d.layout,m=d.type,x=d.stroke,p=d.connectNulls,y=d.isRange;d.ref;var o=ye(d,Ye);return N.createElement(Z,{clipPath:c?"url(#clipPath-".concat(l,")"):null},N.createElement(X,I({},F(o,!0),{points:s,connectNulls:p,type:m,baseLine:i,layout:u,stroke:"none",className:"recharts-area-area"})),x!=="none"&&N.createElement(X,I({},F(this.props,!1),{className:"recharts-area-curve",layout:u,type:m,connectNulls:p,fill:"none",points:s})),x!=="none"&&y&&N.createElement(X,I({},F(this.props,!1),{className:"recharts-area-curve",layout:u,type:m,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(s,i){var c=this,l=this.props,d=l.points,u=l.baseLine,m=l.isAnimationActive,x=l.animationBegin,p=l.animationDuration,y=l.animationEasing,o=l.animationId,w=this.state,D=w.prevPoints,v=w.prevBaseLine;return N.createElement(Oe,{begin:x,duration:p,isActive:m,easing:y,from:{t:0},to:{t:1},key:"area-".concat(o),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var j=O.t;if(D){var r=D.length/d.length,h=d.map(function(P,f){var S=Math.floor(f*r);if(D[S]){var E=D[S],R=V(E.x,P.x),$=V(E.y,P.y);return z(z({},P),{},{x:R(j),y:$(j)})}return P}),g;if(W(u)&&typeof u=="number"){var A=V(v,u);g=A(j)}else if(ae(u)||Ee(u)){var b=V(v,0);g=b(j)}else g=u.map(function(P,f){var S=Math.floor(f*r);if(v[S]){var E=v[S],R=V(E.x,P.x),$=V(E.y,P.y);return z(z({},P),{},{x:R(j),y:$(j)})}return P});return c.renderAreaStatically(h,g,s,i)}return N.createElement(Z,null,N.createElement("defs",null,N.createElement("clipPath",{id:"animationClipPath-".concat(i)},c.renderClipRect(j))),N.createElement(Z,{clipPath:"url(#animationClipPath-".concat(i,")")},c.renderAreaStatically(d,u,s,i)))})}},{key:"renderArea",value:function(s,i){var c=this.props,l=c.points,d=c.baseLine,u=c.isAnimationActive,m=this.state,x=m.prevPoints,p=m.prevBaseLine,y=m.totalLength;return u&&l&&l.length&&(!x&&y>0||!se(x,l)||!se(p,d))?this.renderAreaWithAnimation(s,i):this.renderAreaStatically(l,d,s,i)}},{key:"render",value:function(){var s,i=this.props,c=i.hide,l=i.dot,d=i.points,u=i.className,m=i.top,x=i.left,p=i.xAxis,y=i.yAxis,o=i.width,w=i.height,D=i.isAnimationActive,v=i.id;if(c||!d||!d.length)return null;var O=this.state.isAnimationFinished,j=d.length===1,r=pe("recharts-area",u),h=p&&p.allowDataOverflow,g=y&&y.allowDataOverflow,A=h||g,b=ae(v)?this.id:v,P=(s=F(l,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},f=P.r,S=f===void 0?3:f,E=P.strokeWidth,R=E===void 0?2:E,$=Me(l)?l:{},q=$.clipDot,B=q===void 0?!0:q,T=S*2+R;return N.createElement(Z,{className:r},h||g?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(b)},N.createElement("rect",{x:h?x:x-o/2,y:g?m:m-w/2,width:h?o:o*2,height:g?w:w*2})),!B&&N.createElement("clipPath",{id:"clipPath-dots-".concat(b)},N.createElement("rect",{x:x-T/2,y:m-T/2,width:o+T,height:w+T}))):null,j?null:this.renderArea(A,b),(l||j)&&this.renderDots(A,B,b),(!D||O)&&Ce.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:s.points!==i.curPoints||s.baseLine!==i.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(L.PureComponent);fe=_;C(_,"displayName","Area");C(_,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Le.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});C(_,"getBaseValue",function(t,a,n,s){var i=t.layout,c=t.baseValue,l=a.props.baseValue,d=l??c;if(W(d)&&typeof d=="number")return d;var u=i==="horizontal"?s:n,m=u.scale.domain();if(u.type==="number"){var x=Math.max(m[0],m[1]),p=Math.min(m[0],m[1]);return d==="dataMin"?p:d==="dataMax"||x<0?x:Math.max(Math.min(m[0],m[1]),0)}return d==="dataMin"?m[0]:d==="dataMax"?m[1]:m[0]});C(_,"getComposedData",function(t){var a=t.props,n=t.item,s=t.xAxis,i=t.yAxis,c=t.xAxisTicks,l=t.yAxisTicks,d=t.bandSize,u=t.dataKey,m=t.stackedData,x=t.dataStartIndex,p=t.displayedData,y=t.offset,o=a.layout,w=m&&m.length,D=fe.getBaseValue(a,n,s,i),v=o==="horizontal",O=!1,j=p.map(function(h,g){var A;w?A=m[x+g]:(A=re(h,u),Array.isArray(A)?O=!0:A=[D,A]);var b=A[1]==null||w&&re(h,u)==null;return v?{x:ne({axis:s,ticks:c,bandSize:d,entry:h,index:g}),y:b?null:i.scale(A[1]),value:A,payload:h}:{x:b?null:s.scale(A[1]),y:ne({axis:i,ticks:l,bandSize:d,entry:h,index:g}),value:A,payload:h}}),r;return w||O?r=j.map(function(h){var g=Array.isArray(h.value)?h.value[0]:null;return v?{x:h.x,y:g!=null&&h.y!=null?i.scale(g):null}:{x:g!=null?s.scale(g):null,y:h.y}}):r=v?i.scale(D):s.scale(D),z({points:j,baseLine:r,layout:o,isRange:O},y)});C(_,"renderDotItem",function(t,a){var n;if(N.isValidElement(t))n=N.cloneElement(t,a);else if(J(t))n=t(a);else{var s=pe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=a.key,c=ye(a,Je);n=N.createElement(_e,I({},c,{key:i,className:s}))}return n});var ot=ze({chartName:"AreaChart",GraphicalChild:_,axisComponents:[{axisType:"xAxis",AxisComp:he},{axisType:"yAxis",AxisComp:xe}],formatAxisMap:$e});function gt(){const{user:t}=je(),[a,n]=L.useState([]),[s,i]=L.useState(null),[c,l]=L.useState(!0),[d,u]=L.useState(null),[m,x]=L.useState(!1),[p,y]=L.useState(null),[o,w]=L.useState({completedDays:0,currentDay:1,photosTaken:0,averageMood:0,averageSkinRating:0,streak:0});if(L.useEffect(()=>{(async()=>{if(t)try{console.log("🔍 Načítání dat pro uživatele:",t.uid),l(!0),u(null);const h=await Ne(ke(te,"users",t.uid));if(h.exists()){const f=h.data();i(f),console.log("👤 Uživatelská data:",f)}const g=we(Ae(te,"userLogs"),De("userId","==",t.uid)),A=await Pe(g),b=[];A.forEach(f=>{const S={id:f.id,...f.data()};b.push(S)}),b.sort((f,S)=>f.day-S.day),console.log("📊 Načteno logů:",b.length),console.log("📷 Logy s fotkami:",b.filter(f=>f.photos&&f.photos.length>0).length);const P=b.filter(f=>f.photos&&f.photos.length>0);if(P.length>0&&console.log("🖼️ Ukázka logů s fotkami:",P.slice(0,3).map(f=>({day:f.day,photosCount:f.photos.length,photoUrls:f.photos.map(S=>S.url)}))),n(b),b.length>0){const f=b.length,S=b.filter(k=>k.photos&&k.photos.length>0).length,E=b.filter(k=>k.mood>0).map(k=>k.mood),R=b.filter(k=>k.skinRating>0).map(k=>k.skinRating),$=E.length>0?E.reduce((k,M)=>k+M,0)/E.length:0,q=R.length>0?R.reduce((k,M)=>k+M,0)/R.length:0;let B=0;if(b.length>0){const k=[...b].sort((M,be)=>be.day-M.day);B=1;for(let M=1;M<k.length&&k[M].day===k[M-1].day-1;M++)B++}const T={completedDays:f,currentDay:h.exists()&&h.data()?.currentDay||f+1,photosTaken:S,averageMood:Math.round($*10)/10,averageSkinRating:Math.round(q*10)/10,streak:B};console.log("📈 Vypočítané statistiky:",T),w(T)}else console.log("📭 Uživatel nemá žádné logy"),w({completedDays:0,currentDay:h.exists()&&h.data()?.currentDay||1,photosTaken:0,averageMood:0,averageSkinRating:0,streak:0})}catch(h){console.error("❌ Chyba při načítání dat:",h),u("Chyba při načítání dat: "+h.message),w({completedDays:0,currentDay:1,photosTaken:0,averageMood:0,averageSkinRating:0,streak:0})}finally{l(!1)}})()},[t]),c)return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Se,{className:"w-8 h-8 text-pink-500 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Načítání tvých dat..."})]})});const D=a.length>0?a.slice(-7).map(r=>({day:r.day,mood:r.mood||0,skinRating:r.skinRating||0,date:`Den ${r.day}`})):[],v=Math.round(o.completedDays/365*100),O=[{id:1,title:"První týden",description:"7 dní v řadě!",icon:ie,earned:o.streak>=7,progress:Math.min(o.streak,7),total:7},{id:2,title:"Vytrvalost",description:"30 dní dokončeno",icon:Ve,earned:o.completedDays>=30,progress:Math.min(o.completedDays,30),total:30},{id:3,title:"Fotograf",description:"5 týdenních fotek",icon:U,earned:o.photosTaken>=5,progress:Math.min(o.photosTaken,5),total:5},{id:4,title:"Optimista",description:"Průměrná nálada 4+",icon:le,earned:o.averageMood>=4,progress:Math.min(o.averageMood,4),total:4}],j=a.filter(r=>r.photos&&r.photos.length>0);return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("header",{className:"bg-white border-b border-gray-100 sticky top-0 z-40 shadow-sm",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center h-16",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(Ke,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Přehled pokroku"}),e.jsx("p",{className:"text-sm text-gray-500",children:o.completedDays===0?"Připrav se na svou cestu!":`${o.completedDays} dní dokončeno`})]})]})})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[d&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ze,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-red-900 mb-1",children:"Chyba při načítání dat"}),e.jsx("p",{className:"text-sm text-red-700",children:d}),e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),className:"mt-3 text-red-600 border-red-300 hover:bg-red-50",children:"Zkusit znovu"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-4 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(ce,{className:"w-6 h-6 text-pink-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:o.completedDays}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Splněných dnů"}),e.jsx("div",{className:"w-full bg-pink-100 rounded-full h-2",children:e.jsx("div",{className:"bg-pink-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(v,100)}%`}})}),e.jsxs("p",{className:"text-xs text-pink-600 mt-1",children:[v,"% z cesty"]})]}),e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-4 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(He,{className:"w-6 h-6 text-orange-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:o.streak}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Dní v řadě"}),o.streak>=7?e.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded-full",children:"🔥 Super streak!"}):o.streak>0?e.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded-full",children:"⭐ Pokračuj tak!"}):e.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded-full",children:"💪 Začni dnes"})]}),e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-4 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(le,{className:"w-6 h-6 text-purple-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:o.averageMood>0?o.averageMood.toFixed(1):"—"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Průměrná nálada"}),o.averageMood>=4?e.jsx("span",{className:"text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded-full",children:"😊 Skvělé!"}):o.averageMood>0?e.jsx("span",{className:"text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded-full",children:"😌 Dobré"}):e.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded-full",children:"🎯 Začni hodnotit"})]}),e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-4 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(We,{className:"w-6 h-6 text-green-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:o.averageSkinRating>0?o.averageSkinRating.toFixed(1):"—"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Hodnocení pleti"}),o.averageSkinRating>=4?e.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"⭐ Skvělé"}):o.averageSkinRating>0?e.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"📈 Zlepšuje se"}):e.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded-full",children:"📊 Začni hodnotit"})]})]}),e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center",children:e.jsx(oe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Celkový pokrok"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tvoje cesta za krásnou pletí"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[o.completedDays," z 365 dní"]}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[v,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 h-3 rounded-full transition-all duration-500 flex items-center justify-start pl-2",style:{width:`${Math.max(v,2)}%`},children:v>10&&e.jsxs("span",{className:"text-xs text-white font-medium",children:[v,"%"]})})}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-sm text-gray-600",children:o.completedDays===0?"Připrav se na svou cestu za krásnou pletí! ✨":o.completedDays<7?"Skvělý začátek! Pokračuj každý den a uvidíš výsledky! 🌟":o.completedDays<30?"Úžasný pokrok! Tvoje vytrvalost se vyplácí! 🎉":`Neuvěřitelných ${o.completedDays} dní! Jsi inspirací! 🏆`})})]})]}),e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:e.jsx(U,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Fotky pokroku"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[o.photosTaken," fotek nahráno"]})]})]}),j.length>0&&e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>x(!m),className:"flex items-center space-x-2",children:m?e.jsxs(e.Fragment,{children:[e.jsx(Xe,{className:"w-4 h-4"}),e.jsx("span",{children:"Skrýt"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx("span",{children:"Zobrazit"})]})})]}),j.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(U,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"mb-2 font-medium",children:"Zatím nemáš žádné fotky pokroku"}),e.jsx("p",{className:"text-sm",children:'Fotky se nahrávají během speciálních "foto dnů"'})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:j.slice(-3).map((r,h)=>e.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>r.photos?.[0]?.url&&y({...r.photos[0],day:r.day}),children:[e.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:[r.photos&&r.photos[0]?.url?e.jsx("img",{src:r.photos[0].url,alt:`Den ${r.day} - pokrok`,className:"w-full h-full object-cover transition-transform group-hover:scale-105",onError:g=>{g.target.style.display="none",g.target.nextSibling.style.display="flex"}}):null,e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",style:{display:r.photos?.[0]?.url?"none":"flex"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(U,{className:"w-6 h-6 text-purple-500 mx-auto mb-1"}),e.jsxs("span",{className:"text-xs text-purple-600 font-medium",children:["Den ",r.day]})]})})]}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-xs text-center",children:[e.jsx(Y,{className:"w-4 h-4 mx-auto mb-1"}),e.jsxs("p",{className:"font-semibold",children:["Den ",r.day]}),e.jsxs("p",{children:[r.photos?.length||0," ",r.photos?.length===1?"fotka":"fotky"]}),r.mood&&e.jsx("p",{className:"mt-1",children:"⭐".repeat(Math.min(r.mood,5))})]})})]},r.id))}),m&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[e.jsx(Te,{className:"w-4 h-4 mr-2"}),"Všechny fotky (",j.length," dnů)"]}),e.jsx("div",{className:"grid grid-cols-4 gap-3",children:j.map(r=>e.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>r.photos?.[0]?.url&&y({...r.photos[0],day:r.day}),children:[e.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:[r.photos&&r.photos[0]?.url?e.jsx("img",{src:r.photos[0].url,alt:`Den ${r.day} - pokrok`,className:"w-full h-full object-cover transition-transform group-hover:scale-110",onError:h=>{h.target.style.display="none",h.target.nextSibling.style.display="flex"}}):null,e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center",style:{display:r.photos?.[0]?.url?"none":"flex"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(U,{className:"w-5 h-5 text-blue-500 mx-auto mb-1"}),e.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:["D",r.day]})]})})]}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-xs text-center",children:[e.jsx(Y,{className:"w-5 h-5 mx-auto mb-1 opacity-75"}),e.jsxs("p",{className:"font-medium",children:["Den ",r.day]}),e.jsxs("p",{children:[r.photos?.length||0," fotky"]}),r.mood&&e.jsx("p",{className:"mt-1",children:"⭐".repeat(Math.min(r.mood,5))}),r.skinRating&&e.jsxs("p",{className:"text-xs text-green-300",children:["Pleť: ",r.skinRating,"/5"]})]})})]},r.id))})]})]})]}),D.length>0&&e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-teal-500 rounded-xl flex items-center justify-center",children:e.jsx(oe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pokrok za poslední dny"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Sleduj, jak se zlepšuje tvoje nálada a pleť"})]})]}),e.jsx("div",{className:"h-64",children:e.jsx(Ie,{width:"100%",height:"100%",children:e.jsxs(ot,{data:D,children:[e.jsx(Be,{strokeDasharray:"3 3"}),e.jsx(he,{dataKey:"date"}),e.jsx(xe,{domain:[0,5]}),e.jsx(Fe,{formatter:(r,h)=>[r,h==="mood"?"Nálada":"Hodnocení pleti"],labelFormatter:r=>r}),e.jsx(_,{type:"monotone",dataKey:"mood",stackId:"1",stroke:"#ec4899",fill:"#ec4899",fillOpacity:.4,name:"mood"}),e.jsx(_,{type:"monotone",dataKey:"skinRating",stackId:"1",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.4,name:"skinRating"})]})})})]}),e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-xl flex items-center justify-center",children:e.jsx(ie,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Úspěchy a ocenění"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tvoje dosažené milníky"})]})]}),e.jsx("div",{className:"space-y-4",children:O.map(r=>{const h=r.icon,g=r.total>0?Math.min(r.progress/r.total*100,100):0;return e.jsxs("div",{className:`
                    p-4 rounded-lg border transition-all duration-200
                    ${r.earned?"border-yellow-300 bg-yellow-50 shadow-sm":"border-gray-200 bg-gray-50"}
                  `,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`
                        w-10 h-10 rounded-lg flex items-center justify-center
                        ${r.earned?"bg-yellow-100":"bg-gray-100"}
                      `,children:e.jsx(h,{className:`
                          w-5 h-5 
                          ${r.earned?"text-yellow-600":"text-gray-400"}
                        `})}),e.jsxs("div",{children:[e.jsx("h3",{className:`
                          font-semibold
                          ${r.earned?"text-gray-900":"text-gray-500"}
                        `,children:r.title}),e.jsx("p",{className:`
                          text-sm
                          ${r.earned?"text-gray-700":"text-gray-400"}
                        `,children:r.description})]})]}),r.earned?e.jsx(ce,{className:"w-5 h-5 text-green-500"}):e.jsxs("span",{className:"text-sm text-gray-500",children:[r.progress,"/",r.total]})]}),!r.earned&&r.progress>0&&e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gray-400 h-2 rounded-full transition-all duration-500",style:{width:`${g}%`}})})]},r.id)})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 border border-pink-100 rounded-xl shadow-sm p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ue,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:o.completedDays===0?"Začni svou cestu! ✨":o.completedDays<7?"Skvělý začátek! 🌟":o.completedDays<30?"Úžasný pokrok! 🎉":o.completedDays<100?"Jsi neuvěřitelná! 🏆":"Absolutní šampionka! 👑"}),e.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto",children:o.completedDays===0?"Tvoje cesta za krásnou pletí právě začíná. Každý den je novou příležitostí!":o.completedDays<7?`Za ${o.completedDays} dní jsi udělala skvělý začátek. Pokračuj dál - každý den se počítá!`:o.completedDays<30?`${o.completedDays} dní za sebou je úžasné! Tvoje vytrvalost se určitě vyplatí.`:o.completedDays<100?`${o.completedDays} dní je neuvěřitelný úspěch! Jsi inspirací pro všechny kolem sebe.`:`Neuvěřitelných ${o.completedDays} dní! Jsi absolutní šampionka a vzor pro ostatní! 🌟`})]})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>y(null),children:e.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[e.jsx("img",{src:p.url,alt:`Den ${p.day} - pokrok`,className:"max-w-full max-h-full object-contain rounded-lg",onClick:r=>r.stopPropagation()}),e.jsxs("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white px-3 py-2 rounded-lg",children:[e.jsxs("p",{className:"font-semibold",children:["Den ",p.day]}),p.type&&e.jsx("p",{className:"text-sm opacity-75",children:p.type==="front"?"Zepředu":p.type==="side"?"Z boku":"Pokrok"})]}),e.jsx("button",{onClick:()=>y(null),className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white w-8 h-8 rounded-full flex items-center justify-center hover:bg-opacity-75",children:"×"})]})})]})}export{gt as default};
